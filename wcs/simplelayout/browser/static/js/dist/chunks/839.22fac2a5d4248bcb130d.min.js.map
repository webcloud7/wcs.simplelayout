{"version":3,"file":"chunks/839.22fac2a5d4248bcb130d.min.js","mappings":"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","sources":["webpack://simplelayout/./node_modules/@patternslib/patternslib/src/core/events.js","webpack://simplelayout/./node_modules/@patternslib/patternslib/src/core/dom.js","webpack://simplelayout/./node_modules/@patternslib/patternslib/src/core/logging.js","webpack://simplelayout/./node_modules/@patternslib/patternslib/src/core/utils.js","webpack://simplelayout/./node_modules/@patternslib/patternslib/src/core/registry.js","webpack://simplelayout/./node_modules/vue-loader/dist/exportHelper.js"],"sourcesContent":["// Event related methods and event factories\n\n// Event listener registration for easy-to-remove event listeners.\n// once Safari supports the ``signal`` option for addEventListener we can abort\n// event handlers by calling AbortController.abort().\nconst event_listener_map = {};\n\n/**\n * Add an event listener to a DOM element under a unique id.\n * If a event is registered under the same id for the same element, the old handler is removed first.\n *\n * @param {DOM Node} el - The element to register the event for.\n * @param {string} event_type - The event type to listen for.\n * @param {string} id - A unique id under which the event is registered.\n * @param {function} cb - The event handler / callback function.\n * @param {Object} opts - Options for the addEventListener API.\n *\n */\nconst add_event_listener = (el, event_type, id, cb, opts = {}) => {\n    if (!el?.addEventListener) {\n        return; // nothing to do.\n    }\n    remove_event_listener(el, id); // do not register one listener twice.\n\n    if (!event_listener_map[el]) {\n        event_listener_map[el] = {};\n    }\n    event_listener_map[el][id] = [event_type, cb, opts.capture ? opts : undefined]; // prettier-ignore\n    el.addEventListener(event_type, cb, opts);\n};\n\n/**\n * Remove an event listener from a DOM element under a unique id.\n *\n * @param {DOM Node} el - The element to register the event for.\n * @param {string} id - A unique id under which the event is registered.\n *\n */\nconst remove_event_listener = (el, id) => {\n    if (!el?.removeEventListener) {\n        return; // nothing to do.\n    }\n    const el_events = event_listener_map[el];\n    if (!el_events) {\n        return;\n    }\n    let entries;\n    if (id) {\n        // remove event listener with specific id\n        const entry = el_events[id];\n        entries = entry ? [entry] : [];\n    } else {\n        // remove all event listeners of element\n        entries = Object.entries(el_events);\n    }\n    for (const entry of entries || []) {\n        el.removeEventListener(entry[0], entry[1], entry[2]);\n    }\n};\n\n/**\n * Await an event to be thrown.\n *\n * Usage:\n *     await events.await_event(button, \"click\");\n *\n * @param {DOM Node} el - The element to listen on.\n * @param {String} event_name - The event name to listen for.\n *\n * @returns {Promise} - Returns a Promise which can be used for ``await`` and which will be resolved when the event is throwm.\n *\n */\nconst await_event = (el, event_name) => {\n    // See: https://stackoverflow.com/a/44746691/1337474\n    return new Promise((resolve) =>\n        el.addEventListener(event_name, resolve, { once: true })\n    );\n};\n\n/**\n * Await pattern init.\n *\n * Usage:\n *     await events.await_pattern_init(PATTERN);\n *\n * @param {Pattern instance} pattern - The pattern instance.\n *\n * @returns {Promise} - Returns a Promise which can be used for ``await`` and which will be resolved when the event is throwm.\n *\n */\nconst await_pattern_init = (pattern) => {\n    // See: https://stackoverflow.com/a/44746691/1337474\n    return new Promise((resolve) => pattern.one(\"init\", resolve));\n};\n\n/**\n * Event factories\n */\n\nconst click_event = () => {\n    return new Event(\"click\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nconst change_event = () => {\n    return new Event(\"change\", {\n        bubbles: true,\n        cancelable: false,\n    });\n};\n\nconst input_event = () => {\n    return new Event(\"input\", {\n        bubbles: true,\n        cancelable: false,\n    });\n};\n\nconst mousedown_event = () => {\n    return new Event(\"mousedown\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nconst mouseup_event = () => {\n    return new Event(\"mouseup\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nconst scroll_event = () => {\n    return new Event(\"scroll\", {\n        bubbles: true,\n        cancelable: false,\n    });\n};\n\nconst submit_event = () => {\n    return new Event(\"submit\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nexport default {\n    add_event_listener: add_event_listener,\n    remove_event_listener: remove_event_listener,\n    await_event: await_event,\n    await_pattern_init: await_pattern_init,\n    click_event: click_event,\n    change_event: change_event,\n    input_event: input_event,\n    mousedown_event: mousedown_event,\n    mouseup_event: mouseup_event,\n    scroll_event: scroll_event,\n    submit_event: submit_event,\n};\n","/* Utilities for DOM traversal or navigation */\nimport events from \"./events\";\n\nconst DATA_PREFIX = \"__patternslib__data_prefix__\";\nconst DATA_STYLE_DISPLAY = \"__patternslib__style__display\";\n\nconst toNodeArray = (nodes) => {\n    // Return an array of DOM nodes\n    if (nodes.jquery || nodes instanceof NodeList) {\n        // jQuery or document.querySelectorAll\n        nodes = [...nodes];\n    } else if (nodes instanceof Array === false) {\n        nodes = [nodes];\n    }\n    return nodes;\n};\n\nconst querySelectorAllAndMe = (el, selector) => {\n    // Like querySelectorAll but including the element where it starts from.\n    // Returns an Array, not a NodeList\n\n    if (!el) {\n        return [];\n    }\n\n    const all = [...el.querySelectorAll(selector)];\n    if (el.matches(selector)) {\n        all.unshift(el); // start element should be first.\n    }\n    return all;\n};\n\nconst wrap = (el, wrapper) => {\n    // Wrap a element with a wrapper element.\n    // See: https://stackoverflow.com/a/13169465/1337474\n\n    el.parentNode.insertBefore(wrapper, el);\n    wrapper.appendChild(el);\n};\n\nconst hide = (el) => {\n    // Hides the element with ``display: none``\n    if (el.style.display === \"none\") {\n        // Nothing to do.\n        return;\n    }\n    if (el.style.display) {\n        el[DATA_STYLE_DISPLAY] = el.style.display;\n    }\n    el.style.display = \"none\";\n    el.setAttribute(\"hidden\", \"\");\n};\n\nconst show = (el) => {\n    // Shows element by removing ``display: none`` and restoring the display\n    // value to whatever it was before.\n    const val = el[DATA_STYLE_DISPLAY] || null;\n    el.style.display = val;\n    delete el[DATA_STYLE_DISPLAY];\n    el.removeAttribute(\"hidden\", \"\");\n};\n\nconst find_parents = (el, selector) => {\n    // Return all direct parents of ``el`` matching ``selector``.\n    // This matches against all parents but not the element itself.\n    // The order of elements is from the search starting point up to higher\n    // DOM levels.\n    const ret = [];\n    let parent = el?.parentNode?.closest?.(selector);\n    while (parent) {\n        ret.push(parent);\n        parent = parent.parentNode?.closest?.(selector);\n    }\n    return ret;\n};\n\nconst find_scoped = (el, selector) => {\n    // If the selector starts with an object id do a global search,\n    // otherwise do a local search.\n    return (selector.indexOf(\"#\") === 0 ? document : el).querySelectorAll(selector);\n};\n\nconst get_parents = (el) => {\n    // Return all HTMLElement parents of el, starting from the direct parent of el.\n    // The document itself is excluded because it's not a real DOM node.\n    const parents = [];\n    let parent = el?.parentNode;\n    while (parent) {\n        parents.push(parent);\n        parent = parent?.parentNode;\n        parent = parent instanceof HTMLElement ? parent : null;\n    }\n    return parents;\n};\n\n/**\n * Return the value of the first attribute found in the list of parents.\n *\n * @param {DOM element} el - The DOM element to start the acquisition search for the given attribute.\n * @param {string} attribute - Name of the attribute to search for.\n * @param {Boolean} include_empty - Also return empty values.\n * @param {Boolean} include_all - Return a list of attribute values found in all parents.\n *\n * @returns {*} - Returns the value of the searched attribute or a list of all attributes.\n */\nconst acquire_attribute = (\n    el,\n    attribute,\n    include_empty = false,\n    include_all = false\n) => {\n    let _el = el;\n    const ret = []; // array for ``include_all`` mode.\n    while (_el) {\n        const val = _el.getAttribute(attribute);\n        if (val || (include_empty && val === \"\")) {\n            if (!include_all) {\n                return val;\n            }\n            ret.push(val);\n        }\n        _el = _el.parentElement;\n    }\n    if (include_all) {\n        return ret;\n    }\n};\n\nconst is_visible = (el) => {\n    // Check, if element is visible in DOM.\n    // https://stackoverflow.com/a/19808107/1337474\n    return el.offsetWidth > 0 && el.offsetHeight > 0;\n};\n\n/**\n * Return a DocumentFragment from a given string.\n *\n * @param {String} string - The HTML structure as a string.\n *\n * @returns {DocumentFragment} - The DOM nodes as a DocumentFragment.\n */\nconst create_from_string = (string) => {\n    // See: https://davidwalsh.name/convert-html-stings-dom-nodes\n    return document.createRange().createContextualFragment(string.trim());\n};\n\n/**\n * Return a CSS property value for a given DOM node.\n * For length-values, relative values are converted to pixels.\n * Optionally parse as pixels, if applicable.\n *\n * Note: The element must be attached to the body to make CSS caluclations work.\n *\n * @param {Node} el - DOM node.\n * @param {String} property - CSS property to query on DOM node.\n * @param {Boolean} [as_pixels=false] - Convert value to pixels, if applicable.\n * @param {Boolean} [as_float=false] - Convert value to float, if applicable.\n *\n * @returns {(String|Number)} - The CSS value to return.\n */\nfunction get_css_value(el, property, as_pixels = false, as_float = false) {\n    let value = window.getComputedStyle(el).getPropertyValue(property);\n    if (as_pixels || as_float) {\n        value = parseFloat(value) || 0.0;\n    }\n    if (as_pixels && !as_float) {\n        value = parseInt(Math.round(value), 10);\n    }\n    return value;\n}\n\n/**\n * Find a scrollable element up in the DOM tree.\n *\n * Note: Setting the ``overflow`` shorthand property also sets the individual overflow-y and overflow-y properties.\n *\n * @param {Node} el - The DOM element to start the search on.\n * @param {String} [direction=] - Not given: Search for any scrollable element up in the DOM tree.\n *                                ``x``: Search for a horizontally scrollable element.\n *                                ``y``: Search for a vertically scrollable element.\n * @param {(DOM Node|null)} [fallback=document.body] - Fallback, if no scroll container can be found.\n *                                                     The default is to use document.body.\n *\n * @returns {Node} - Return the first scrollable element.\n *                   If no other element could be found, document.body would be returned.\n */\nconst find_scroll_container = (el, direction, fallback = document.body) => {\n    while (el && el !== document.body) {\n        if (!direction || direction === \"y\") {\n            let overflow_y = get_css_value(el, \"overflow-y\");\n            if ([\"auto\", \"scroll\"].includes(overflow_y)) {\n                return el;\n            }\n        }\n        if (!direction || direction === \"x\") {\n            let overflow_x = get_css_value(el, \"overflow-x\");\n            if ([\"auto\", \"scroll\"].includes(overflow_x)) {\n                return el;\n            }\n        }\n        el = el.parentElement;\n    }\n    return fallback;\n};\n\n/**\n * Get data stored directly on the node instance.\n * We are using a prefix to make sure the data doesn't collide with other attributes.\n *\n * @param el {Node} - The DOM node from which we want to retrieve the data.\n * @param name {String} - The name of the variable. Note - this is stored on\n *                        the DOM node prefixed with the DATA_PREFIX.\n * @param default_value {Any} - Optional default value.\n * @return {Any} - The value which is stored on the DOM node.\n */\nconst get_data = (el, name, default_value) => {\n    return el[`${DATA_PREFIX}${name}`] || default_value;\n};\n\n/**\n * Set and store data directly on the node instance.\n * We are using a prefix to make sure the data doesn't collide with other attributes.\n *\n * @param el {Node} - The DOM node which we want to store the data on.\n * @param name {String} - The name of the variable. Note - this is stored on\n *                        the DOM node prefixed with the DATA_PREFIX.\n * @param value {Any} - The value we want to store on the DOM node.\n */\nconst set_data = (el, name, value) => {\n    el[`${DATA_PREFIX}${name}`] = value;\n};\n\n/**\n * Simple template engine, based on JS template literal\n *\n * Please note: You cannot pass a template literal as template_string.\n * JavaScript itself would try to expand it and would fail.\n *\n * See: https://stackoverflow.com/a/37217166/1337474\n *\n * @param {String} template_string - The template string as a JavaScript template literal.\n *                                   For each variable in the template you have to use ``this``.\n *                                   E.g. if you pass ``{message: \"ok\"}`` as template_variables, you can use it like so:\n *                                   `<h1>${this.message}</h1>`\n * @param {Object} template_variables - Object literal with all the variables which should be used in the template.\n *\n * @returns {String} - Returns the a string as template expanded with the template_variables.\n */\nconst template = (template_string, template_variables = {}) => {\n    return new Function(\"return `\" + template_string + \"`;\").call(template_variables);\n};\n\nconst dom = {\n    toNodeArray: toNodeArray,\n    querySelectorAllAndMe: querySelectorAllAndMe,\n    wrap: wrap,\n    hide: hide,\n    show: show,\n    find_parents: find_parents,\n    find_scoped: find_scoped,\n    get_parents: get_parents,\n    acquire_attribute: acquire_attribute,\n    is_visible: is_visible,\n    create_from_string: create_from_string,\n    get_css_value: get_css_value,\n    find_scroll_container: find_scroll_container,\n    get_data: get_data,\n    set_data: set_data,\n    template: template,\n    add_event_listener: events.add_event_listener, // BBB export. TODO: Remove in an upcoming version.\n    remove_event_listener: events.remove_event_listener, // BBB export. TODO: Remove in an upcoming version.\n};\n\nexport default dom;\n","/**\n * Patterns logging - minimal logging framework\n *\n * Copyright 2012 Simplon B.V.\n */\n\n// source: https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind\nif (!Function.prototype.bind) {\n    Function.prototype.bind = function (oThis) {\n        if (typeof this !== \"function\") {\n            // closest thing possible to the ECMAScript 5 internal IsCallable function\n            throw new TypeError(\n                \"Function.prototype.bind - what is trying to be bound is not callable\"\n            );\n        }\n\n        var aArgs = Array.prototype.slice.call(arguments, 1),\n            fToBind = this,\n            fNOP = function () {},\n            fBound = function () {\n                return fToBind.apply(\n                    this instanceof fNOP && oThis ? this : oThis,\n                    aArgs.concat(Array.prototype.slice.call(arguments))\n                );\n            };\n        fNOP.prototype = this.prototype;\n        fBound.prototype = new fNOP();\n\n        return fBound;\n    };\n}\n\nvar root, // root logger instance\n    writer; // writer instance, used to output log entries\n\nvar Level = {\n    DEBUG: 10,\n    INFO: 20,\n    WARN: 30,\n    ERROR: 40,\n    FATAL: 50,\n};\n\nfunction ConsoleWriter() {}\n\nConsoleWriter.prototype = {\n    output: function (log_name, level, messages) {\n        if (log_name) messages.unshift(log_name + \":\");\n        if (level <= Level.DEBUG) {\n            // console.debug exists but is deprecated\n            messages.unshift(\"[DEBUG]\");\n            console.log.apply(console, messages);\n        } else if (level <= Level.INFO) console.info.apply(console, messages);\n        else if (level <= Level.WARN) console.warn.apply(console, messages);\n        else console.error.apply(console, messages);\n    },\n};\n\nfunction Logger(name, parent) {\n    this._loggers = {};\n    this.name = name || \"\";\n    this._parent = parent || null;\n    if (!parent) {\n        this._enabled = true;\n        this._level = Level.WARN;\n    }\n}\n\nLogger.prototype = {\n    getLogger: function (name) {\n        var path = name.split(\".\"),\n            root = this,\n            route = this.name ? [this.name] : [];\n        while (path.length) {\n            var entry = path.shift();\n            route.push(entry);\n            if (!(entry in root._loggers))\n                root._loggers[entry] = new Logger(route.join(\".\"), root);\n            root = root._loggers[entry];\n        }\n        return root;\n    },\n\n    _getFlag: function (flag) {\n        var context = this;\n        flag = \"_\" + flag;\n        while (context !== null) {\n            if (context[flag] !== undefined) return context[flag];\n            context = context._parent;\n        }\n        return null;\n    },\n\n    setEnabled: function (state) {\n        this._enabled = !!state;\n    },\n\n    isEnabled: function () {\n        this._getFlag(\"enabled\");\n    },\n\n    setLevel: function (level) {\n        if (typeof level === \"number\") this._level = level;\n        else if (typeof level === \"string\") {\n            level = level.toUpperCase();\n            if (level in Level) this._level = Level[level];\n        }\n    },\n\n    getLevel: function () {\n        return this._getFlag(\"level\");\n    },\n\n    log: function (level, messages) {\n        if (\n            !messages.length ||\n            !this._getFlag(\"enabled\") ||\n            level < this._getFlag(\"level\")\n        )\n            return;\n        messages = Array.prototype.slice.call(messages);\n        writer.output(this.name, level, messages);\n    },\n\n    debug: function () {\n        this.log(Level.DEBUG, arguments);\n    },\n\n    info: function () {\n        this.log(Level.INFO, arguments);\n    },\n\n    warn: function () {\n        this.log(Level.WARN, arguments);\n    },\n\n    error: function () {\n        this.log(Level.ERROR, arguments);\n    },\n\n    fatal: function () {\n        this.log(Level.FATAL, arguments);\n    },\n};\n\nfunction getWriter() {\n    return writer;\n}\n\nfunction setWriter(w) {\n    writer = w;\n}\n\nsetWriter(new ConsoleWriter());\n\nroot = new Logger();\n\nvar logconfig = /loglevel(|-[^=]+)=([^&]+)/g,\n    match;\n\nwhile ((match = logconfig.exec(window.location.search)) !== null) {\n    var logger = match[1] === \"\" ? root : root.getLogger(match[1].slice(1));\n    logger.setLevel(match[2].toUpperCase());\n}\n\nvar api = {\n    Level: Level,\n    getLogger: root.getLogger.bind(root),\n    setEnabled: root.setEnabled.bind(root),\n    isEnabled: root.isEnabled.bind(root),\n    setLevel: root.setLevel.bind(root),\n    getLevel: root.getLevel.bind(root),\n    debug: root.debug.bind(root),\n    info: root.info.bind(root),\n    warn: root.warn.bind(root),\n    error: root.error.bind(root),\n    fatal: root.fatal.bind(root),\n    getWriter: getWriter,\n    setWriter: setWriter,\n};\n\nexport default api;\n","import $ from \"jquery\";\nimport dom from \"./dom\";\n\n$.fn.safeClone = function () {\n    var $clone = this.clone();\n    // IE BUG : Placeholder text becomes actual value after deep clone on textarea\n    // https://connect.microsoft.com/IE/feedback/details/781612/placeholder-text-becomes-actual-value-after-deep-clone-on-textarea\n    if (window.document.documentMode) {\n        $clone.findInclusive(\":input[placeholder]\").each(function (i, item) {\n            var $item = $(item);\n            if ($item.attr(\"placeholder\") === $item.val()) {\n                $item.val(\"\");\n            }\n        });\n    }\n    return $clone;\n};\n\n// Production steps of ECMA-262, Edition 5, 15.4.4.18\n// Reference: http://es5.github.io/#x15.4.4.18\nif (!Array.prototype.forEach) {\n    Array.prototype.forEach = function (callback, thisArg) {\n        var T, k;\n        if (this === null) {\n            throw new TypeError(\" this is null or not defined\");\n        }\n        // 1. Let O be the result of calling ToObject passing the |this| value as the argument.\n        var O = Object(this);\n        // 2. Let lenValue be the result of calling the Get internal method of O with the argument \"length\".\n        // 3. Let len be ToUint32(lenValue).\n        var len = O.length >>> 0;\n        // 4. If IsCallable(callback) is false, throw a TypeError exception.\n        // See: http://es5.github.com/#x9.11\n        if (typeof callback !== \"function\") {\n            throw new TypeError(callback + \" is not a function\");\n        }\n        // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        if (arguments.length > 1) {\n            T = thisArg;\n        }\n        // 6. Let k be 0\n        k = 0;\n        // 7. Repeat, while k < len\n        while (k < len) {\n            var kValue;\n            // a. Let Pk be ToString(k).\n            //   This is implicit for LHS operands of the in operator\n            // b. Let kPresent be the result of calling the HasProperty internal method of O with argument Pk.\n            //   This step can be combined with c\n            // c. If kPresent is true, then\n            if (k in O) {\n                // i. Let kValue be the result of calling the Get internal method of O with argument Pk.\n                kValue = O[k];\n                // ii. Call the Call internal method of callback with T as the this value and\n                // argument list containing kValue, k, and O.\n                callback.call(T, kValue, k, O);\n            }\n            // d. Increase k by 1.\n            k++;\n        }\n        // 8. return undefined\n    };\n}\n\nvar singleBoundJQueryPlugin = function (pattern, method, options) {\n    /* This is a jQuery plugin for patterns which are invoked ONCE FOR EACH\n     * matched element in the DOM.\n     *\n     * This is how the Mockup-type patterns behave. They are constructor\n     * functions which need to be invoked once per jQuery-wrapped DOM node\n     * for all DOM nodes on which the pattern applies.\n     */\n    var $this = this;\n    $this.each(function () {\n        var pat,\n            $el = $(this);\n        pat = pattern.init($el, options);\n        if (method) {\n            if (pat[method] === undefined) {\n                $.error(\n                    \"Method \" + method + \" does not exist on jQuery.\" + pattern.name\n                );\n                return false;\n            }\n            if (method.charAt(0) === \"_\") {\n                $.error(\"Method \" + method + \" is private on jQuery.\" + pattern.name);\n                return false;\n            }\n            pat[method].apply(pat, [options]);\n        }\n    });\n    return $this;\n};\n\nvar pluralBoundJQueryPlugin = function (pattern, method, options) {\n    /* This is a jQuery plugin for patterns which are invoked ONCE FOR ALL\n     * matched elements in the DOM.\n     *\n     * This is how the vanilla Patternslib-type patterns behave. They are\n     * simple objects with an init method and this method gets called once\n     * with a list of jQuery-wrapped DOM nodes on which the pattern\n     * applies.\n     */\n    var $this = this;\n    if (method) {\n        if (pattern[method]) {\n            return pattern[method].apply($this, [$this].concat([options]));\n        } else {\n            $.error(\"Method \" + method + \" does not exist on jQuery.\" + pattern.name);\n        }\n    } else {\n        pattern.init.apply($this, [$this].concat([options]));\n    }\n    return $this;\n};\n\nvar jqueryPlugin = function (pattern) {\n    return function (method, options) {\n        var $this = this;\n        if ($this.length === 0) {\n            return $this;\n        }\n        if (typeof method === \"object\") {\n            options = method;\n            method = undefined;\n        }\n        if (typeof pattern === \"function\") {\n            return singleBoundJQueryPlugin.call(this, pattern, method, options);\n        } else {\n            return pluralBoundJQueryPlugin.call(this, pattern, method, options);\n        }\n    };\n};\n\n// Is a given variable an object?\nfunction isObject(obj) {\n    var type = typeof obj;\n    return type === \"function\" || (type === \"object\" && !!obj);\n}\n\n// Extend a given object with all the properties in passed-in object(s).\nfunction extend(obj) {\n    if (!isObject(obj)) return obj;\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n        source = arguments[i];\n        for (prop in source) {\n            if (hasOwnProperty.call(source, prop)) {\n                obj[prop] = source[prop];\n            }\n        }\n    }\n    return obj;\n}\n// END: Taken from Underscore.js until here.\n\nfunction rebaseURL(base, url) {\n    base = new URL(base, window.location).href; // If base is relative make it absolute.\n    if (url.indexOf(\"://\") !== -1 || url[0] === \"/\" || url.indexOf(\"data:\") === 0) {\n        return url;\n    }\n    return base.slice(0, base.lastIndexOf(\"/\") + 1) + url;\n}\n\nfunction findLabel(input) {\n    var $label;\n    for (\n        var label = input.parentNode;\n        label && label.nodeType !== 11;\n        label = label.parentNode\n    ) {\n        if (label.tagName === \"LABEL\") {\n            return label;\n        }\n    }\n    if (input.id) {\n        $label = $('label[for=\"' + input.id + '\"]');\n    }\n    if ($label && $label.length === 0 && input.form) {\n        $label = $('label[for=\"' + input.name + '\"]', input.form);\n    }\n    if ($label && $label.length) {\n        return $label[0];\n    } else {\n        return null;\n    }\n}\n\n// Taken from http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport\nfunction elementInViewport(el) {\n    var rect = el.getBoundingClientRect(),\n        docEl = document.documentElement,\n        vWidth = window.innerWidth || docEl.clientWidth,\n        vHeight = window.innerHeight || docEl.clientHeight;\n\n    if (rect.right < 0 || rect.bottom < 0 || rect.left > vWidth || rect.top > vHeight)\n        return false;\n    return true;\n}\n\n// Taken from http://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\nfunction escapeRegExp(str) {\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n}\n\n/**\n * Remove classes from a list of targets if they match a specific pattern.\n *\n * @param {Node, NodeList} targets: Dom Node or NodeList where the classes should be removed.\n * @param {string} classes: String matching classes to be removed.\n *                          You can add a \"*\" as wildcard to search for classes to be removed.\n *                          E.g. \"icon-*-alert\" to remove any of \"icon-1-alert icon-2-alert\".\n *\n * @returns {undefined}: This method directly operates on the targets.\n */\nfunction removeWildcardClass(targets, classes) {\n    targets = utils.ensureArray(targets);\n\n    if (classes.indexOf(\"*\") === -1) {\n        for (const target of targets) {\n            target.classList.remove(classes);\n        }\n    } else {\n        let matcher = classes.replace(/[\\-\\[\\]{}()+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\n        matcher = matcher.replace(/[*]/g, \".*\");\n        matcher = new RegExp(\"^\" + matcher + \"$\");\n\n        for (const target of targets) {\n            const class_list = (target.getAttribute(\"class\") || \"\").split(/\\s+/);\n            if (!class_list.length) {\n                continue;\n            }\n            const ok = class_list.filter((it) => !matcher.test(it));\n            if (ok.length) {\n                target.setAttribute(\"class\", ok.join(\" \"));\n            } else {\n                target.removeAttribute(\"class\");\n            }\n        }\n    }\n}\n\nfunction hasValue(el) {\n    if (el.tagName === \"INPUT\") {\n        if (el.type === \"checkbox\" || el.type === \"radio\") {\n            return el.checked;\n        }\n        return el.value !== \"\";\n    }\n    if (el.tagName === \"SELECT\") {\n        return el.selectedIndex !== -1;\n    }\n    if (el.tagName === \"TEXTAREA\") {\n        return el.value !== \"\";\n    }\n    return false;\n}\n\nconst hideOrShow = (nodes, visible, options, pattern_name) => {\n    nodes = dom.toNodeArray(nodes);\n\n    const transitions = {\n        none: { hide: \"hide\", show: \"show\" },\n        fade: { hide: \"fadeOut\", show: \"fadeIn\" },\n        slide: { hide: \"slideUp\", show: \"slideDown\" },\n    };\n\n    const duration =\n        options.transition === \"css\" || options.transition === \"none\"\n            ? null\n            : options.effect.duration;\n\n    const on_complete = (el) => {\n        el.classList.remove(\"in-progress\");\n        el.classList.add(visible ? \"visible\" : \"hidden\");\n        $(el).trigger(\"pat-update\", {\n            pattern: pattern_name,\n            transition: \"complete\",\n        });\n    };\n\n    for (const el of nodes) {\n        el.classList.remove(\"visible\");\n        el.classList.remove(\"hidden\");\n        el.classList.remove(\"in-progress\");\n\n        if (duration) {\n            const t = transitions[options.transition];\n            el.classList.add(\"in-progress\");\n            $(el).trigger(\"pat-update\", {\n                pattern: pattern_name,\n                transition: \"start\",\n            });\n            $(el)[visible ? t.show : t.hide]({\n                duration: duration,\n                easing: options.effect.easing,\n                complete: () => on_complete(el),\n            });\n        } else {\n            if (options.transition !== \"css\") {\n                dom[visible ? \"show\" : \"hide\"](el);\n            }\n            on_complete(el);\n        }\n    }\n};\n\nfunction addURLQueryParameter(fullURL, param, value) {\n    /* Using a positive lookahead (?=\\=) to find the given parameter,\n     * preceded by a ? or &, and followed by a = with a value after\n     * than (using a non-greedy selector) and then followed by\n     * a & or the end of the string.\n     *\n     * Taken from http://stackoverflow.com/questions/7640270/adding-modify-query-string-get-variables-in-a-url-with-javascript\n     */\n    var val = new RegExp(\"(\\\\?|\\\\&)\" + param + \"=.*?(?=(&|$))\"),\n        parts = fullURL.toString().split(\"#\"),\n        url = parts[0],\n        hash = parts[1],\n        qstring = /\\?.+$/,\n        newURL = url;\n    // Check if the parameter exists\n    if (val.test(url)) {\n        // if it does, replace it, using the captured group\n        // to determine & or ? at the beginning\n        newURL = url.replace(val, \"$1\" + param + \"=\" + value);\n    } else if (qstring.test(url)) {\n        // otherwise, if there is a query string at all\n        // add the param to the end of it\n        newURL = url + \"&\" + param + \"=\" + value;\n    } else {\n        // if there's no query string, add one\n        newURL = url + \"?\" + param + \"=\" + value;\n    }\n    if (hash) {\n        newURL += \"#\" + hash;\n    }\n    return newURL;\n}\n\nfunction removeDuplicateObjects(objs) {\n    /* Given an array of objects, remove any duplicate objects which might\n     * be present.\n     */\n    const comparator = function (k, v) {\n        return this[k] === v;\n    };\n\n    return objs.reduce(function (list, next_obj) {\n        let is_duplicate = false;\n        for (const obj of list) {\n            is_duplicate =\n                Object.keys(obj).length === Object.keys(next_obj).length &&\n                Object.entries(obj).filter(\n                    (it) => !comparator.bind(next_obj)(it[0], it[1])\n                ).length === 0;\n        }\n        if (!is_duplicate) {\n            list.push(next_obj);\n        }\n        return list;\n    }, []);\n}\n\nfunction mergeStack(stack, length) {\n    /* Given a list of lists of objects (which for brevity we call a stack),\n     * return a list of objects where each object is the merge of all the\n     * corresponding original objects at that particular index.\n     *\n     * If a certain sub-list doesn't have an object at that particular\n     * index, the last object in that list is merged.\n     */\n    const results = [];\n    for (let i = 0; i < length; i++) {\n        results.push({});\n    }\n    for (const frame of stack) {\n        const frame_length = frame.length - 1;\n        for (let x = 0; x < length; x++) {\n            results[x] = $.extend(\n                results[x] || {},\n                frame[x > frame_length ? frame_length : x]\n            );\n        }\n    }\n    return results;\n}\n\nfunction isElementInViewport(el, partial = false, offset = 0) {\n    /* returns true if element is visible to the user ie. is in the viewport.\n     * Setting partial parameter to true, will only check if a part of the element is visible\n     * in the viewport, specifically that some part of that element is touching the top part\n     * of the viewport. This only applies to the vertical direction, ie. doesnt check partial\n     * visibility for horizontal scrolling\n     * some code taken from:\n     * http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport/7557433#7557433\n     */\n    if (el instanceof $) {\n        el = el[0];\n    }\n\n    const rec = el.getBoundingClientRect();\n    const rec_values = [rec.top, rec.bottom, rec.left, rec.right];\n\n    if (rec_values.every((val) => val === 0)) {\n        // if every property of rec is 0, the element is invisible;\n        return false;\n    } else if (partial) {\n        // when using getBoundingClientRect() (in the vertical case)\n        // negative means above top of viewport, positive means below top of viewport\n        // therefore for part of the element to be touching or crossing the top of the viewport\n        // rec.top must <= 0 and rec.bottom must >= 0\n        // an optional tolerance offset can be added for when the desired element is not exactly\n        // toucing the top of the viewport but needs to be considered as touching.\n        return (\n            rec.top <= 0 + offset && rec.bottom >= 0 + offset\n            //(rec.top >= 0+offset && rec.top <= window.innerHeight) // this checks if the element\n            // touches bottom part of viewport\n            // XXX do we want to include a check for the padding of an element?\n            // using window.getComputedStyle(target).paddingTop\n        );\n    } else {\n        // this will return true if the entire element is completely in the viewport\n        return (\n            rec.top >= 0 &&\n            rec.left >= 0 &&\n            rec.bottom <=\n                (window.innerHeight || document.documentElement.clientHeight) &&\n            rec.right <= (window.innerWidth || document.documentElement.clientWidth)\n        );\n    }\n}\n\nfunction parseTime(time) {\n    var m = /^(\\d+(?:\\.\\d+)?)\\s*(\\w*)/.exec(time);\n    if (!m) {\n        throw new Error(\"Invalid time\");\n    }\n    var amount = parseFloat(m[1]);\n    switch (m[2]) {\n        case \"s\":\n            return Math.round(amount * 1000);\n        case \"m\":\n            return Math.round(amount * 1000 * 60);\n        case \"ms\":\n        default:\n            return Math.round(amount);\n    }\n}\n\n// Return a jQuery object with elements related to an input element.\nfunction findRelatives(el) {\n    var $el = $(el),\n        $relatives = $(el),\n        $label = $();\n\n    $relatives = $relatives.add($el.closest(\"label\"));\n    $relatives = $relatives.add($el.closest(\"fieldset\"));\n\n    if (el.id) $label = $(\"label[for='\" + el.id + \"']\");\n    if (!$label.length) {\n        var $form = $el.closest(\"form\");\n        if (!$form.length) $form = $(document.body);\n        $label = $form.find(\"label[for='\" + el.name + \"']\");\n    }\n    $relatives = $relatives.add($label);\n    return $relatives;\n}\n\nfunction get_bounds(el) {\n    // Return bounds of an element with it's values rounded and converted to ints.\n    const bounds = el.getBoundingClientRect();\n    return {\n        x: parseInt(Math.round(bounds.x), 10) || 0,\n        y: parseInt(Math.round(bounds.y), 10) || 0,\n        top: parseInt(Math.round(bounds.top), 10) || 0,\n        bottom: parseInt(Math.round(bounds.bottom), 10) || 0,\n        left: parseInt(Math.round(bounds.left), 10) || 0,\n        right: parseInt(Math.round(bounds.right), 10) || 0,\n        width: parseInt(Math.round(bounds.width), 10) || 0,\n        height: parseInt(Math.round(bounds.height), 10) || 0,\n    };\n}\n\nfunction checkInputSupport(type, invalid_value) {\n    /* Check input type support.\n     *  See: https://stackoverflow.com/a/10199306/1337474\n     */\n    let support = false;\n    const input = document.createElement(\"input\");\n    input.setAttribute(\"type\", type);\n    support = input.type == type;\n\n    if (invalid_value !== undefined) {\n        // Check for input type UI support\n        input.setAttribute(\"value\", invalid_value);\n        support = input.value !== invalid_value;\n    }\n    return support;\n}\n\nconst checkCSSFeature = (attribute, value, tag = \"div\") => {\n    /* Check for browser support of specific CSS feature.\n     */\n    tag = document.createElement(tag);\n    let supported = tag.style[attribute] !== undefined;\n    if (supported && value !== undefined) {\n        tag.style[attribute] = value;\n        supported = tag.style[attribute] === value;\n    }\n    return supported;\n};\n\nconst animation_frame = () => {\n    // Return promise to await next repaint cycle\n    // Use it in your async function like so: ``await utils.animation_frame()``\n    // From: http://www.albertlobo.com/fractals/async-await-requestanimationframe-buddhabrot\n    return new Promise(window.requestAnimationFrame);\n};\n\nconst timeout = (ms) => {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n};\n\nconst debounce = (func, ms, timer = { timer: null }) => {\n    // Returns a function, that, as long as it continues to be invoked, will not\n    // be triggered. The function will be called after it stops being called for\n    // N milliseconds.\n    // From: https://underscorejs.org/#debounce\n    //\n    // Make sure to initialize ``debounce`` only once per to-be-debounced\n    // function to not reinitialize the timer each time and debounce not being\n    // able to cancel previouse runs.\n    //\n    // Pass a module-global timer as an object ``{ timer: null }`` if you want\n    // to also cancel debounced functions from other pattern-invocations.\n    //\n    return function () {\n        clearTimeout(timer.timer);\n        const args = arguments;\n        timer.timer = setTimeout(() => func.apply(this, args), ms);\n    };\n};\n\nconst isIE = () => {\n    // See: https://stackoverflow.com/a/9851769/1337474\n    // Internet Explorer 6-11\n    return /*@cc_on!@*/ false || !!document.documentMode;\n};\n\nconst jqToNode = (el) => {\n    // Return a DOM node if a jQuery node was passed.\n    if (el.jquery) {\n        el = el[0];\n    }\n    return el;\n};\n\n/**\n * Always return an iterable object.\n *\n * @param {any} it: The object which needs to be wrapped in an array or returned as is if it is iterable.\n * @param {boolean} force_array: If the object is iterable but not an Array, convert it to an array (e.g. For jQuery items or NodeList objects).\n *\n * @returns {Array}: Returns the object wrapped in an Array, expanded to an Array or as-is if it is already iterable.\n */\nconst ensureArray = (it, force_array) => {\n    // Ensure to return always an array\n    const array_like = !!(\n        NodeList.prototype.isPrototypeOf(it) || // eslint-disable-line no-prototype-builtins\n        Array.isArray(it) ||\n        it.jquery\n    );\n    return array_like ? (force_array ? [...it] : it) : [it];\n};\n\nconst localized_isodate = (date) => {\n    // Return a iso date (date only) in the current timezone instead of a\n    // UTC ISO 8601 date+time component which toISOString returns.\n\n    const day = date.getDate().toString().padStart(2, \"0\");\n    const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\n    const year = date.getFullYear().toString();\n\n    return `${year}-${month}-${day}`;\n};\n\n/**\n * Replace HTML reserved characters with html entities to add HTML for user\n * editing to e.g. a textarea or a contenteditable.\n *\n * See: https://developer.mozilla.org/en-US/docs/Glossary/Entity#reserved_characters\n *\n * @param {string} html - The HTML string to encode.\n *\n * @returns {string} - Returns the escaped html string:\n *                     ``&`` will be replaced with ``&amp;``.\n *                     ``<`` will be repalced with ``&lt;``,\n *                     ``>`` will be replaced with ``&gt;``,\n *                     ``\"`` will be replaced with ``&quot;``.\n */\nconst escape_html = (html) => {\n    return (html || \"\")\n        .replace(/&/g, \"&amp;\") // needs to be first!\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\");\n};\n\n/**\n * Return unescaped, raw HTML from an escaped HTML  string.\n *\n * See: https://developer.mozilla.org/en-US/docs/Glossary/Entity#reserved_characters\n *\n * @param {string} escaped_html - The HTML string to decode.\n *\n * @returns {string} - Returns the escaped html string:\n *                     ``&amp;`` will be replaced with ``&``,\n *                     ``&lt;`` will be repalced with ``<``,\n *                     ``&gt;`` will be replaced with ``>``,\n *                     ``&quot;`` will be replaced with ``\"``.\n */\nconst unescape_html = (escaped_html) => {\n    return (escaped_html || \"\")\n        .replace(/&amp;/g, \"&\")\n        .replace(/&lt;/g, \"<\")\n        .replace(/&gt;/g, \">\")\n        .replace(/&quot;/g, '\"');\n};\n\n/**\n * Return true, if the given value is a valid ISO 8601 date/time string with or without an optional time component.\n *\n * @param {String} value - The date/time value to be checked.\n * @param {Boolean} [optional_time=false] - True, if time component is optional.\n * @return {Boolean} - True, if the given value is a valid Date string. False if not.\n */\nconst is_iso_date_time = (value, optional_time = false) => {\n    const re_date_time = optional_time\n        ? /^\\d{4}-[01]\\d-[0-3]\\d(T[0-2]\\d:[0-5]\\d)?$/\n        : /^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d$/;\n    return re_date_time.test(value);\n};\n\nvar utils = {\n    // pattern pimping - own module?\n    jqueryPlugin: jqueryPlugin,\n    escapeRegExp: escapeRegExp,\n    isObject: isObject,\n    extend: extend,\n    rebaseURL: rebaseURL,\n    findLabel: findLabel,\n    elementInViewport: elementInViewport,\n    removeWildcardClass: removeWildcardClass,\n    hideOrShow: hideOrShow,\n    addURLQueryParameter: addURLQueryParameter,\n    removeDuplicateObjects: removeDuplicateObjects,\n    mergeStack: mergeStack,\n    isElementInViewport: isElementInViewport,\n    hasValue: hasValue,\n    parseTime: parseTime,\n    findRelatives: findRelatives,\n    get_bounds: get_bounds,\n    checkInputSupport: checkInputSupport,\n    checkCSSFeature: checkCSSFeature,\n    animation_frame: animation_frame,\n    timeout: timeout,\n    debounce: debounce,\n    isIE: isIE,\n    jqToNode: jqToNode,\n    ensureArray: ensureArray,\n    localized_isodate: localized_isodate,\n    escape_html: escape_html,\n    unescape_html: unescape_html,\n    is_iso_date_time: is_iso_date_time,\n    getCSSValue: dom.get_css_value, // BBB: moved to dom. TODO: Remove in upcoming version.\n};\n\nexport default utils;\n","/**\n * Patterns registry - Central registry and scan logic for patterns\n *\n * Copyright 2012-2013 Simplon B.V.\n * Copyright 2012-2013 Florian Friesdorf\n * Copyright 2013 Marko Durkovic\n * Copyright 2013 Rok Garbas\n * Copyright 2014-2015 Syslab.com GmBH, JC Brand\n */\n\n/*\n * changes to previous patterns.register/scan mechanism\n * - if you want initialised class, do it in init\n * - init returns set of elements actually initialised\n * - handle once within init\n * - no turnstile anymore\n * - set pattern.jquery_plugin if you want it\n */\nimport $ from \"jquery\";\nimport dom from \"./dom\";\nimport logging from \"./logging\";\nimport utils from \"./utils\";\n\nconst log = logging.getLogger(\"registry\");\nconst disable_re = /patterns-disable=([^&]+)/g;\nconst dont_catch_re = /patterns-dont-catch/g;\nconst disabled = {};\nlet dont_catch = false;\nlet match;\n\nwhile ((match = disable_re.exec(window.location.search)) !== null) {\n    disabled[match[1]] = true;\n    log.info(\"Pattern disabled via url config:\", match[1]);\n}\n\nwhile ((match = dont_catch_re.exec(window.location.search)) !== null) {\n    dont_catch = true;\n    log.info(\"I will not catch init exceptions\");\n}\n\n/**\n * Global pattern registry.\n *\n * This is a singleton and shared among any instance of the Patternslib\n * registry since Patternslib version 8.\n *\n * You normally don't need this as the registry handles it for you.\n */\nif (typeof window.__patternslib_registry === \"undefined\") {\n    window.__patternslib_registry = {};\n}\nexport const PATTERN_REGISTRY = window.__patternslib_registry;\nif (typeof window.__patternslib_registry_initialized === \"undefined\") {\n    window.__patternslib_registry_initialized = false;\n}\n\nconst registry = {\n    patterns: PATTERN_REGISTRY, // reference to global patterns registry\n    // as long as the registry is not initialized, pattern\n    // registration just registers a pattern. Once init is called,\n    // the DOM is scanned. After that registering a new pattern\n    // results in rescanning the DOM only for this pattern.\n    init() {\n        $(document).ready(function () {\n            if (window.__patternslib_registry_initialized) {\n                // Do not reinitialize a already initialized registry.\n                return;\n            }\n            window.__patternslib_registry_initialized = true;\n            log.debug(\"Loaded: \" + Object.keys(registry.patterns).sort().join(\", \"));\n            registry.scan(document.body);\n            log.debug(\"Finished initial scan.\");\n        });\n    },\n\n    clear() {\n        // Removes all patterns from the registry. Currently only being\n        // used in tests.\n        for (const name in registry.patterns) {\n            delete registry.patterns[name];\n        }\n    },\n\n    transformPattern(name, content) {\n        /* Call the transform method on the pattern with the given name, if\n         * it exists.\n         */\n        if (disabled[name]) {\n            log.debug(`Skipping disabled pattern: ${name}.`);\n            return;\n        }\n\n        const pattern = registry.patterns[name];\n        const transform = pattern.transform || pattern.prototype?.transform;\n        if (transform) {\n            try {\n                transform($(content));\n            } catch (e) {\n                if (dont_catch) {\n                    throw e;\n                }\n                log.error(`Transform error for pattern ${name}.`, e);\n            }\n        }\n    },\n\n    initPattern(name, el, trigger) {\n        /* Initialize the pattern with the provided name and in the context\n         * of the passed in DOM element.\n         */\n        const $el = $(el);\n        const pattern = registry.patterns[name];\n        if (pattern.init) {\n            const plog = logging.getLogger(`pat.${name}`);\n            if ($el.is(pattern.trigger)) {\n                plog.debug(\"Initialising.\", $el);\n                try {\n                    pattern.init($el, null, trigger);\n                    plog.debug(\"done.\");\n                } catch (e) {\n                    if (dont_catch) {\n                        throw e;\n                    }\n                    plog.error(\"Caught error:\", e);\n                }\n            }\n        }\n    },\n\n    orderPatterns(patterns) {\n        // XXX: Bit of a hack. We need the validation pattern to be\n        // parsed and initiated before the inject pattern. So we make\n        // sure here, that it appears first. Not sure what would be\n        // the best solution. Perhaps some kind of way to register\n        // patterns \"before\" or \"after\" other patterns.\n        if (patterns.includes(\"validation\") && patterns.includes(\"inject\")) {\n            patterns.splice(patterns.indexOf(\"validation\"), 1);\n            patterns.unshift(\"validation\");\n        }\n        return patterns;\n    },\n\n    scan(content, patterns, trigger) {\n        if (!content) {\n            return;\n        }\n\n        if (typeof content === \"string\") {\n            content = document.querySelector(content);\n        } else if (content.jquery) {\n            content = content[0];\n        }\n\n        const selectors = [];\n        patterns = this.orderPatterns(patterns || Object.keys(registry.patterns));\n        for (const name of patterns) {\n            this.transformPattern(name, content);\n            const pattern = registry.patterns[name];\n            if (pattern.trigger) {\n                selectors.unshift(pattern.trigger);\n            }\n        }\n\n        let matches = dom.querySelectorAllAndMe(\n            content,\n            selectors.map((it) => it.trim().replace(/,$/, \"\")).join(\",\")\n        );\n        matches = matches.filter((el) => {\n            // Filter out patterns:\n            // - with class ``.disable-patterns``\n            // - wrapped in ``.disable-patterns`` elements\n            // - wrapped in ``<pre>`` elements\n            // - wrapped in ``<template>`` elements\n            return (\n                !el.matches(\".disable-patterns\") &&\n                !el?.parentNode?.closest?.(\".disable-patterns\") &&\n                !el?.parentNode?.closest?.(\"pre\") &&\n                !el?.parentNode?.closest?.(\"template\") && // NOTE: not strictly necessary. Template is a DocumentFragment and not reachable except for IE.\n                !el.matches(\".cant-touch-this\") && // BBB. TODO: Remove with next major version.\n                !el?.parentNode?.closest?.(\".cant-touch-this\") // BBB. TODO: Remove with next major version.\n            );\n        });\n\n        // walk list backwards and initialize patterns inside-out.\n        for (const el of matches.reverse()) {\n            for (const name of patterns) {\n                this.initPattern(name, el, trigger);\n            }\n        }\n        document.body.classList.add(\"patterns-loaded\");\n    },\n\n    register(pattern, name) {\n        name = name || pattern.name;\n        if (!name) {\n            log.error(\"Pattern lacks a name.\", pattern);\n            return false;\n        }\n        if (registry.patterns[name]) {\n            log.debug(`Already have a pattern called ${name}.`);\n            return false;\n        }\n        // register pattern to be used for scanning new content\n        registry.patterns[name] = pattern;\n\n        // register pattern as jquery plugin\n        if (pattern.jquery_plugin) {\n            const plugin_name = (\"pat-\" + name).replace(\n                /-([a-zA-Z])/g,\n                function (match, p1) {\n                    return p1.toUpperCase();\n                }\n            );\n            $.fn[plugin_name] = utils.jqueryPlugin(pattern);\n            // BBB 2012-12-10 and also for Mockup patterns.\n            $.fn[plugin_name.replace(/^pat/, \"pattern\")] = $.fn[plugin_name];\n        }\n        log.debug(`Registered pattern ${name}`, pattern);\n        if (window.__patternslib_registry_initialized) {\n            // Once the first initialization has been done, do only scan for\n            // newly registered patterns.\n            registry.scan(document.body, [name]);\n            log.debug(`Re-scanned dom with newly registered pattern ${name}.`);\n        }\n        return true;\n    },\n};\n\nexport default registry;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n"],"names":["event_listener_map","remove_event_listener","el","id","removeEventListener","el_events","entries","entry","Object","add_event_listener","event_type","cb","opts","addEventListener","capture","undefined","await_event","event_name","Promise","resolve","once","await_pattern_init","pattern","one","click_event","Event","bubbles","cancelable","change_event","input_event","mousedown_event","mouseup_event","scroll_event","submit_event","DATA_PREFIX","DATA_STYLE_DISPLAY","get_css_value","property","as_pixels","as_float","value","window","getComputedStyle","getPropertyValue","parseFloat","parseInt","Math","round","toNodeArray","nodes","jquery","NodeList","Array","querySelectorAllAndMe","selector","all","querySelectorAll","matches","unshift","wrap","wrapper","parentNode","insertBefore","appendChild","hide","style","display","setAttribute","show","val","removeAttribute","find_parents","ret","parent","closest","push","find_scoped","indexOf","document","get_parents","parents","HTMLElement","acquire_attribute","attribute","include_empty","include_all","_el","getAttribute","parentElement","is_visible","offsetWidth","offsetHeight","create_from_string","string","createRange","createContextualFragment","trim","find_scroll_container","direction","fallback","body","overflow_y","includes","overflow_x","get_data","name","default_value","set_data","template","template_string","template_variables","Function","call","events","root","writer","prototype","bind","oThis","this","TypeError","aArgs","slice","arguments","fToBind","fNOP","fBound","apply","concat","Level","DEBUG","INFO","WARN","ERROR","FATAL","ConsoleWriter","Logger","_loggers","_parent","_enabled","_level","setWriter","w","output","log_name","level","messages","console","log","info","warn","error","getLogger","path","split","route","length","shift","join","_getFlag","flag","context","setEnabled","state","isEnabled","setLevel","toUpperCase","getLevel","debug","fatal","match","logconfig","exec","location","search","getWriter","$clone","clone","documentMode","findInclusive","each","i","item","$item","attr","forEach","callback","thisArg","T","k","O","len","kValue","singleBoundJQueryPlugin","method","options","pat","$el","init","charAt","pluralBoundJQueryPlugin","$this","isObject","obj","type","utils","jqueryPlugin","escapeRegExp","str","replace","extend","source","prop","hasOwnProperty","rebaseURL","base","url","URL","href","lastIndexOf","findLabel","input","$label","label","nodeType","tagName","form","elementInViewport","rect","getBoundingClientRect","docEl","documentElement","vWidth","innerWidth","clientWidth","vHeight","innerHeight","clientHeight","right","bottom","left","top","removeWildcardClass","targets","classes","ensureArray","target","classList","remove","matcher","RegExp","class_list","ok","filter","it","test","hideOrShow","visible","pattern_name","transitions","none","fade","slide","duration","transition","effect","on_complete","add","trigger","t","easing","complete","addURLQueryParameter","fullURL","param","parts","toString","hash","newURL","removeDuplicateObjects","objs","comparator","v","reduce","list","next_obj","is_duplicate","keys","mergeStack","stack","results","frame","frame_length","x","isElementInViewport","partial","offset","rec","every","hasValue","checked","selectedIndex","parseTime","time","m","Error","amount","findRelatives","$relatives","$form","find","get_bounds","bounds","y","width","height","checkInputSupport","invalid_value","support","createElement","checkCSSFeature","tag","supported","animation_frame","requestAnimationFrame","timeout","ms","setTimeout","debounce","func","timer","clearTimeout","args","isIE","jqToNode","force_array","isPrototypeOf","isArray","localized_isodate","date","day","getDate","padStart","month","getMonth","getFullYear","escape_html","html","unescape_html","escaped_html","is_iso_date_time","optional_time","getCSSValue","logging","disable_re","dont_catch_re","disabled","dont_catch","__patternslib_registry","PATTERN_REGISTRY","__patternslib_registry_initialized","registry","patterns","ready","sort","scan","clear","transformPattern","content","transform","e","initPattern","plog","is","orderPatterns","splice","querySelector","selectors","map","reverse","register","jquery_plugin","plugin_name","p1","exports","sfc","props","__vccOpts","key"],"sourceRoot":""}